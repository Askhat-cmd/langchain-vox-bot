# üîß –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–û–ë–õ–ï–ú–´ –°–û –ó–í–£–ö–û–ú

## üìã –°—Ç–∞—Ç—É—Å: –í –†–ê–ó–†–ê–ë–û–¢–ö–ï

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 2025-01-27  
**–ü—Ä–æ–±–ª–µ–º–∞:** PlaybackStarted –∏ PlaybackFinished –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (9–º—Å), –∑–≤—É–∫ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è

---

## üéØ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### **–≠–¢–ê–ü 1: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø** üî¥

#### 1.1 –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∑–≤—É–∫–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å WAV –Ω–∞ ulaw
- **–§–∞–π–ª:** `yandex_tts_service.py`
- **–ü—Ä–æ–±–ª–µ–º–∞:** Asterisk –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å headerless —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ (ulaw, alaw, sln)
- **–†–µ—à–µ–Ω–∏–µ:** –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å WAV –≤ ulaw —á–µ—Ä–µ–∑ sox
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

#### 1.2 –£–±—Ä–∞—Ç—å –ø–æ–¥–ø–∞–ø–∫—É ru/ –∏–∑ media URI
- **–§–∞–π–ª:** `ari_client.py` (–º–µ—Ç–æ–¥ `play_sound`)
- **–ü—Ä–æ–±–ª–µ–º–∞:** `sound:ru/filename` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `sound:filename`
- **–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç media URI
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

### **–≠–¢–ê–ü 2: –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï** üü°

#### 2.1 –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–≤—É–∫–∞–º–∏
- **–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ ARI playback –≤–æ–æ–±—â–µ
- **–¢–µ—Å—Ç:** `curl -X POST "http://localhost:8088/ari/channels/CHANNEL_ID/play" -d '{"media": "sound:demo-thanks"}'`
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

#### 2.2 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** `ls -la /var/lib/asterisk/sounds/ru/`
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** `asterisk:asterisk`
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

#### 2.3 –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–§–∞–π–ª:** `ari_client.py`
- **–¶–µ–ª—å:** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã ARI –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

### **–≠–¢–ê–ü 3: –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –†–ï–®–ï–ù–ò–Ø** üü¢

#### 3.1 Fallback —á–µ—Ä–µ–∑ dialplan
- **–§–∞–π–ª:** `extensions.conf` + `stasis_handler.py`
- **–¶–µ–ª—å:** –ï—Å–ª–∏ ARI –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Playback() –≤ dialplan
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

#### 3.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- **–¶–µ–ª—å:** –ó–≤–æ–Ω–æ–∫ ‚Üí TTS ‚Üí –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ ‚Üí ASR ‚Üí –æ—Ç–≤–µ—Ç
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

---

## üìä –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|------|------------|
| –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –Ω–∞ ulaw | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –£–±—Ä–∞—Ç—å ru/ –∏–∑ media URI | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –¢–µ—Å—Ç —Å demo-thanks | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| Fallback dialplan | ‚úÖ | 2025-01-27 | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –ø–æ—Ç–æ–∫–∞ | ‚úÖ | 2025-01-27 | –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |

---

## üö® –í–´–Ø–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### **–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- **PlaybackStarted** –∏ **PlaybackFinished** –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (9–º—Å)
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Asterisk –Ω–µ –º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ WAV —Ñ–∞–π–ª

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤:** WAV —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –ø–ª–æ—Ö–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è ARI
2. **Media URI:** `sound:ru/filename` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
3. **–ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏:** –§–∞–π–ª—ã 22050 Hz –≤–º–µ—Å—Ç–æ 8000 Hz

### **–†–µ—à–µ–Ω–∏—è –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:**
1. üî¥ **ulaw —Ñ–æ—Ä–º–∞—Ç** - –æ—Å–Ω–æ–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
2. üî¥ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å media URI** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ
3. üü° **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
4. üü¢ **Fallback dialplan** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### **–¢–µ–∫—É—â–∏–π –∫–æ–¥ (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π):**
```python
# yandex_tts_service.py - —Å–æ–∑–¥–∞–µ—Ç WAV —Ñ–∞–π–ª—ã
# ari_client.py - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç sound:ru/filename
media = f"sound:ru/{sound_id}"
```

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:**
```python
# yandex_tts_service.py - —Å–æ–∑–¥–∞–µ—Ç ulaw —Ñ–∞–π–ª—ã
# ari_client.py - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç sound:filename
media = f"sound:{sound_id}"
```

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–≤—É–∫–∏
curl -u asterisk:asterisk123 http://localhost:8088/ari/sounds

# –¢–µ—Å—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–≤—É–∫–∞
curl -X POST -u asterisk:asterisk123 \
  "http://localhost:8088/ari/channels/CHANNEL_ID/play" \
  -H "Content-Type: application/json" \
  -d '{"media": "sound:demo-thanks"}'
```

---

## üìù –ó–ê–ú–ï–¢–ö–ò –ò –¢–†–£–î–ù–û–°–¢–ò

### **–¢—Ä—É–¥–Ω–æ—Å—Ç–∏:**
- [ ] –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ sox –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- [ ] –ù—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Asterisk –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ulaw —Ñ–æ—Ä–º–∞—Ç
- [ ] –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞

### **–ó–∞–º–µ—Ç–∫–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—é –∑–∞ —Ä–∞–∑
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –æ—Ç–∫–∞—Ç–∞

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é** —Ç–µ–∫—É—â–∏—Ö —Ñ–∞–π–ª–æ–≤
2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤** –Ω–∞ ulaw
3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å media URI** –≤ ARI –∫–ª–∏–µ–Ω—Ç–µ
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —Å –ø—Ä–æ—Å—Ç—ã–º –∑–≤—É–∫–æ–º
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å** –ø–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫

---

## üéâ –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´**

### **‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**

1. **–§–æ—Ä–º–∞—Ç –∑–≤—É–∫–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω —Å WAV –Ω–∞ ulaw**
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ sox –≤ headerless —Ñ–æ—Ä–º–∞—Ç
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ ulaw, —Ç–∞–∫ –∏ WAV fallback
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (asterisk:asterisk)

2. **Media URI –∏—Å–ø—Ä–∞–≤–ª–µ–Ω**
   - –£–±—Ä–∞–Ω–∞ –ø–æ–¥–ø–∞–ø–∫–∞ ru/ –∏–∑ media URI
   - –ò–∑–º–µ–Ω–µ–Ω–æ —Å `sound:ru/filename` –Ω–∞ `sound:filename`

3. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ARI –æ—Ç–≤–µ—Ç–æ–≤**
   - –ü–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã ARI –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

4. **Fallback —Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ dialplan**
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç playback-context –¥–æ–±–∞–≤–ª–µ–Ω –≤ extensions.conf
   - –ú–µ—Ç–æ–¥ playback_via_dialplan –≤ stasis_handler.py

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ**
   - TTS –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - ulaw —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
   - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

### **üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:**

- **–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤:** ulaw (headerless, 8kHz, mono)
- **–†–∞–∑–º–µ—Ä —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞:** 21234 –±–∞–π—Ç
- **–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ TTS:** ~3 —Å–µ–∫—É–Ω–¥—ã
- **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** asterisk:asterisk
- **Fallback:** dialplan Playback() –µ—Å–ª–∏ ARI –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### **üìä –°–¢–ê–¢–£–° –ü–†–û–ï–ö–¢–ê:**

**–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å:** üü¢ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢**
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- TTS —Å–∏—Å—Ç–µ–º–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- Fallback —Ä–µ—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–≤–æ–Ω–∫–∞–º–∏

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: –ó–í–£–ö –í–°–ï –ï–©–ï –ù–ï –°–õ–´–®–ï–ù!

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ü–†–û–ë–õ–ï–ú–ê –ù–ï –†–ï–®–ï–ù–ê**

### **üìä –ê–ù–ê–õ–ò–ó –†–ï–ê–õ–¨–ù–û–ì–û –ó–í–û–ù–ö–ê (18:57:46):**

–ò–∑ –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫–∞–∑–∞–ª: *"–ù—É –≤–∏–¥–∏–º–æ —Å–µ–π—á–∞—Å —è –¥–æ–ª–∂–µ–Ω —Å–ª—ã—à–∞—Ç—å –∑–≤—É–∫, –Ω–æ —è –Ω–∏—Ö—É—è –Ω–µ —Å–ª—ã—à—É. –ú–µ–Ω—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –ø–æ—á–µ–º—É —è –Ω–µ —Å–ª—ã—à—É."*

**–ö–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è:**
1. ‚úÖ **TTS —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ:** `stream_1757098666.170_185746512_2b9a9661f17d24b22589cc602604eea4.ulaw`
2. ‚úÖ **ARI –ø—Ä–∏–Ω—è–ª –∫–æ–º–∞–Ω–¥—É:** `status=201, playback_id=fec6833c-4871-4d84-b17e-ee55cdf0950e`
3. ‚úÖ **PlaybackStarted:** `18:57:48,230`
4. ‚ùå **PlaybackFinished:** `18:57:48,247` (—á–µ—Ä–µ–∑ 17–º—Å!)

### **üîç –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´:**

#### **1. –í–†–ï–ú–ï–ù–ù–´–ï –ò–ù–¢–ï–†–í–ê–õ–´:**
- **PlaybackStarted:** `18:57:48,230`
- **PlaybackFinished:** `18:57:48,247`
- **–†–∞–∑–Ω–∏—Ü–∞:** `17 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~4 —Å–µ–∫—É–Ω–¥—ã!)

#### **2. ARI –û–¢–í–ï–¢–´:**
```json
{
  "id": "fec6833c-4871-4d84-b17e-ee55cdf0950e",
  "media_uri": "sound:stream_1757098666.170_185746512_2b9a9661f17d24b22589cc602604eea4",
  "target_uri": "channel:1757098666.170",
  "language": "ru",
  "state": "queued"
}
```

#### **3. –ü–†–û–ë–õ–ï–ú–´ –° –§–û–†–ú–ê–¢–û–ú:**
- **–§–∞–π–ª —Å–æ–∑–¥–∞–Ω:** `.ulaw` —Ñ–æ—Ä–º–∞—Ç ‚úÖ
- **Media URI:** `sound:filename` (–±–µ–∑ ru/) ‚úÖ
- **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** `asterisk:asterisk` ‚úÖ
- **–ù–û:** Asterisk –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ñ–∞–π–ª!

### **üîß –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´:**

#### **1. –ü–†–û–ë–õ–ï–ú–ê –° –ö–û–î–ï–ö–ê–ú–ò –ö–ê–ù–ê–õ–ê:**
- –ö–∞–Ω–∞–ª –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å ulaw —Ñ–æ—Ä–º–∞—Ç
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–¥–µ–∫–∏ –∫–∞–Ω–∞–ª–∞
- –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç (alaw, gsm, sln)

#### **2. –ü–†–û–ë–õ–ï–ú–ê –° –ü–£–¢–ï–ú –ö –§–ê–ô–õ–£:**
- Asterisk –º–æ–∂–µ—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—å —Ñ–∞–π–ª –≤ `/var/lib/asterisk/sounds/ru/`
- –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –æ—Å–Ω–æ–≤–Ω—É—é –ø–∞–ø–∫—É `/var/lib/asterisk/sounds/`

#### **3. –ü–†–û–ë–õ–ï–ú–ê –° –ö–û–ù–í–ï–†–¢–ê–¶–ò–ï–ô SOX:**
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è WAV ‚Üí ulaw –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω—ã –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã sox

#### **4. –ü–†–û–ë–õ–ï–ú–ê –° ASTERISK –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ï–ô:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏–æ –≤ Asterisk –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `indications.conf`
- –ü—Ä–æ–±–ª–µ–º—ã —Å `musiconhold.conf`

### **üõ†Ô∏è –ü–õ–ê–ù –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:**

#### **–≠–¢–ê–ü 1: –ü–†–û–í–ï–†–ö–ê –§–û–†–ú–ê–¢–ê –§–ê–ô–õ–û–í**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
file /var/lib/asterisk/sounds/ru/stream_*.ulaw
soxi /var/lib/asterisk/sounds/ru/stream_*.ulaw
```

#### **–≠–¢–ê–ü 2: –ü–†–û–í–ï–†–ö–ê –ö–û–î–ï–ö–û–í –ö–ê–ù–ê–õ–ê**
```bash
# –í Asterisk CLI –≤–æ –≤—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞
asterisk -r
> core show channels verbose
> channel show 1757098666.170
```

#### **–≠–¢–ê–ü 3: –¢–ï–°–¢ –° –†–ê–ó–ù–´–ú–ò –§–û–†–ú–ê–¢–ê–ú–ò**
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `alaw` –≤–º–µ—Å—Ç–æ `ulaw`
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `gsm` —Ñ–æ—Ä–º–∞—Ç
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `sln` —Ñ–æ—Ä–º–∞—Ç

#### **–≠–¢–ê–ü 4: –ü–ï–†–ï–ú–ï–©–ï–ù–ò–ï –§–ê–ô–õ–û–í**
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –≤ `/var/lib/asterisk/sounds/` (–±–µ–∑ –ø–æ–¥–ø–∞–ø–∫–∏ ru/)
- –û–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç—å –≤ –∫–æ–¥–µ

#### **–≠–¢–ê–ü 5: –ü–†–û–í–ï–†–ö–ê ASTERISK –õ–û–ì–û–í**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Asterisk –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
tail -f /var/log/asterisk/full | grep -i playback
```

### **üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤** - –≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥–µ–∫–∏ –∫–∞–Ω–∞–ª–∞** - –≤–æ–∑–º–æ–∂–Ω–æ –∫–∞–Ω–∞–ª –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ulaw
3. **–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã** - alaw, gsm, sln
4. **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã** –≤ –æ—Å–Ω–æ–≤–Ω—É—é –ø–∞–ø–∫—É sounds
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Asterisk** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### **üìù –í–´–í–û–î–´:**

**–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (ulaw —Ñ–æ—Ä–º–∞—Ç, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π media URI, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞), Asterisk –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ñ–∞–π–ª—ã. PlaybackStarted –∏ PlaybackFinished –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (17–º—Å), —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ñ–∞–π–ª "–ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è" –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–æ–º–µ–Ω—Ç:** –ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–æ–≤ —Å Asterisk –∏–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Asterisk.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - –±–µ–∑ –∑–≤—É–∫–∞ –±–æ—Ç –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–¢–ö–†–´–¢–ò–ï: –ü–†–û–ë–õ–ï–ú–ê –° –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï–ú –§–ê–ô–õ–û–í!

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** üîç **–ù–ê–ô–î–ï–ù–ê –û–°–ù–û–í–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê**

### **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:**

**Asterisk –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∞–π–ª—ã –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è!**

#### **–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- **–§–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤:** `/var/lib/asterisk/sounds/ru/stream_*.ulaw`
- **ARI –∏—â–µ—Ç —Ñ–∞–π–ª—ã –≤:** `/var/lib/asterisk/sounds/stream_*.ulaw` (–±–µ–∑ –ø–æ–¥–ø–∞–ø–∫–∏)
- **Media URI:** `sound:stream_filename` - Asterisk –∏—â–µ—Ç –≤ –∫–æ—Ä–Ω–µ –ø–∞–ø–∫–∏ sounds

#### **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞:**
- **–¢–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∞:** `109:112` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü)
- **–ù—É–∂–Ω—ã–µ –ø—Ä–∞–≤–∞:** `asterisk:asterisk 644`

### **üõ†Ô∏è –ü–õ–ê–ù –ö–†–ò–¢–ò–ß–ï–°–ö–ò–• –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**

#### **–≠–¢–ê–ü 1: –ü–ï–†–ï–ú–ï–©–ï–ù–ò–ï –§–ê–ô–õ–û–í** üî¥
- **–§–∞–π–ª:** `yandex_tts_service.py`, —Å—Ç—Ä–æ–∫–∞ ~40
- **–ò–∑–º–µ–Ω–∏—Ç—å:** `self.asterisk_sounds_dir = "/var/lib/asterisk/sounds/ru"`
- **–ù–∞:** `self.asterisk_sounds_dir = "/var/lib/asterisk/sounds"`
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ

#### **–≠–¢–ê–ü 2: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–ê–í –î–û–°–¢–£–ü–ê** üî¥
- **–î–æ–±–∞–≤–∏—Ç—å:** `chown asterisk:asterisk` –∏ `chmod 644`
- **–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è ulaw —Ñ–∞–π–ª–∞**
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

#### **–≠–¢–ê–ü 3: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –° DEMO-THANKS** üü°
- **–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ ARI playback –≤–æ–æ–±—â–µ
- **–ö–æ–º–∞–Ω–¥–∞:** `curl -X POST "http://localhost:8088/ari/channels/CHANNEL_ID/play" -d '{"media": "sound:demo-thanks"}'`
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

#### **–≠–¢–ê–ü 4: –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –õ–û–ì–û–í** üü°
- **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** `/var/log/asterisk/full` –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- **–ö–æ–º–∞–Ω–¥–∞:** `tail -f /var/log/asterisk/full | grep -i "play\|sound"`
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

#### **–≠–¢–ê–ü 5: FALLBACK –ß–ï–†–ï–ó DIALPLAN** üü¢
- **–°–æ–∑–¥–∞—Ç—å:** –∫–æ–Ω—Ç–µ–∫—Å—Ç `tts-playback` –≤ extensions.conf
- **–î–æ–±–∞–≤–∏—Ç—å:** –º–µ—Ç–æ–¥ `playback_fallback` –≤ stasis_handler.py
- **–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç

### **üìä –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|------|------------|
| –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ ru/ –≤ –∫–æ—Ä–µ–Ω—å | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –¢–µ—Å—Ç —Å demo-thanks | ‚è≥ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Asterisk | ‚è≥ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| Fallback dialplan | ‚è≥ | 2025-01-27 | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ |

### **üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:**

#### **–ö–æ–¥ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ yandex_tts_service.py:**
```python
# –°—Ç—Ä–æ–∫–∞ ~40: –ò–∑–º–µ–Ω–∏—Ç—å –ø—É—Ç—å
self.asterisk_sounds_dir = "/var/lib/asterisk/sounds"  # –£–±—Ä–∞—Ç—å /ru

# –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è ulaw —Ñ–∞–π–ª–∞: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
try:
    subprocess.run(["chown", "asterisk:asterisk", ulaw_path], check=True)
    subprocess.run(["chmod", "644", ulaw_path], check=True)
    logger.info(f"‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: asterisk:asterisk 644")
except subprocess.CalledProcessError as e:
    logger.warning(f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: {e}")
```

#### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
ls -la /var/lib/asterisk/sounds/stream_*.ulaw
file /var/lib/asterisk/sounds/stream_*.ulaw

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Asterisk
tail -f /var/log/asterisk/full | grep -i "play\|sound"

# –¢–µ—Å—Ç —Å demo-thanks
curl -X POST -u asterisk:asterisk123 \
  "http://localhost:8088/ari/channels/CHANNEL_ID/play" \
  -H "Content-Type: application/json" \
  -d '{"media": "sound:demo-thanks"}'
```

### **üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã** –∏–∑ `ru/` –≤ –∫–æ—Ä–µ–Ω—å `sounds/` - –ö–†–ò–¢–ò–ß–ù–û
2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –Ω–∞ `asterisk:asterisk 644` - –ö–†–ò–¢–ò–ß–ù–û
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å demo-thanks** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ ARI
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Asterisk** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
5. **–°–æ–∑–¥–∞—Ç—å fallback** —á–µ—Ä–µ–∑ dialplan –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É

### **üìù –í–´–í–û–î–´:**

**–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ (`/var/lib/asterisk/sounds/ru/`) –∏ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ (`109:112` –≤–º–µ—Å—Ç–æ `asterisk:asterisk`).

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–µ–Ω—å –ø–∞–ø–∫–∏ sounds –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - —ç—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–¢–ö–†–´–¢–ò–ï: –ü–†–û–ë–õ–ï–ú–ê –° –°–ò–°–¢–ï–ú–û–ô –ü–†–ï–†–´–í–ê–ù–ò–Ø!

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** üîç **–ù–ê–ô–î–ï–ù–ê –ò–°–¢–ò–ù–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê**

### **üéØ –ê–ù–ê–õ–ò–ó –†–ï–ê–õ–¨–ù–û–ì–û –ó–í–û–ù–ö–ê (19:11:24):**

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫–∞–∑–∞–ª:** *"–ù—É —á—Ç–æ, –ø–æ—Ö–æ–∂–µ, —á—Ç–æ —É –Ω–∞—Å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å"*

**–ö–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è:**
1. ‚úÖ **–§–∞–π–ª —Å–æ–∑–¥–∞–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ:** `/var/lib/asterisk/sounds/stream_*.ulaw`
2. ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:** `asterisk:asterisk 644`
3. ‚úÖ **ARI –ø—Ä–∏–Ω—è–ª –∫–æ–º–∞–Ω–¥—É:** `status=201`
4. ‚ùå **PlaybackStarted:** `19:11:26,400`
5. ‚ùå **PlaybackFinished:** `19:11:26,404` (—á–µ—Ä–µ–∑ 4–º—Å!)

### **üîç –ò–°–¢–ò–ù–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê: –°–ò–°–¢–ï–ú–ê –ü–†–ï–†–´–í–ê–ù–ò–Ø (BARGE-IN)**

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ!

#### **–ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –≤ stasis_handler.py:**
```python
async def stop_tts_on_barge_in(self, channel_id: str, event_name: str):
    """–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TTS –ø—Ä–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º"""
    # –ó–∞—â–∏—Ç–∞ –æ—Ç –ª–æ–∂–Ω–æ–≥–æ barge-in (400–º—Å)
    since_start = int(time.time() * 1000) - call_data["last_speak_started_at"]
    if call_data["current_playback"] and since_start < self.BARGE_IN_GUARD_MS:
        logger.debug(f"–ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º barge-in - —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ ({since_start}ms)")
        return
    
    # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π playback
    if call_data["current_playback"]:
        call_data["current_playback"] = None
    
    # –û–ß–ò–©–ê–ï–ú –í–°–Æ –û–ß–ï–†–ï–î–¨ (–∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç!)
    if call_data["tts_queue"]:
        call_data["tts_queue"] = []
        call_data["tts_busy"] = False
```

#### **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è:**

1. **–°–ª–∏—à–∫–æ–º —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –ª—é–±–æ–π –∑–≤—É–∫
2. **–ó–∞—â–∏—Ç–∞ 400–º—Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞** - –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏
3. **–û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–π –æ—á–µ—Ä–µ–¥–∏** - —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ
4. **–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Ä–æ–≤–Ω—è –∑–≤—É–∫–∞** - —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ —à—É–º

### **üõ†Ô∏è –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –°–ò–°–¢–ï–ú–´ –ü–†–ï–†–´–í–ê–ù–ò–Ø:**

#### **–≠–¢–ê–ü 1: –£–í–ï–õ–ò–ß–ò–¢–¨ –ó–ê–©–ò–¢–£ –û–¢ –õ–û–ñ–ù–û–ì–û BARGE-IN** üî¥
- **–¢–µ–∫—É—â–∞—è –∑–∞—â–∏—Ç–∞:** 400–º—Å
- **–ù–æ–≤–∞—è –∑–∞—â–∏—Ç–∞:** 2000–º—Å (2 —Å–µ–∫—É–Ω–¥—ã)
- **–ö–æ–¥:** `self.BARGE_IN_GUARD_MS = 2000`

#### **–≠–¢–ê–ü 2: –î–û–ë–ê–í–ò–¢–¨ –ü–†–û–í–ï–†–ö–£ –£–†–û–í–ù–Ø –ó–í–£–ö–ê** üî¥
- **–ü—Ä–æ–±–ª–µ–º–∞:** –°–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –ª—é–±–æ–π –∑–≤—É–∫
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å —É—Ä–æ–≤–µ–Ω—å –∑–≤—É–∫–∞ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:** -30dB

#### **–≠–¢–ê–ü 3: –ò–ó–ú–ï–ù–ò–¢–¨ –õ–û–ì–ò–ö–£ –û–ß–ò–°–¢–ö–ò –û–ß–ï–†–ï–î–ò** üü°
- **–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:** –û—á–∏—â–∞—Ç—å –≤—Å—é –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏ barge-in
- **–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:** –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π playback
- **–°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—á–µ—Ä–µ–¥—å** –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ä–µ—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### **–≠–¢–ê–ü 4: –î–û–ë–ê–í–ò–¢–¨ –†–ï–ñ–ò–ú –ë–ï–ó –ü–†–ï–†–´–í–ê–ù–ò–Ø** üü¢
- **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å barge-in
- **–ü–∞—Ä–∞–º–µ—Ç—Ä:** `DISABLE_BARGE_IN = True`
- **–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è

### **üìä –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|------|------------|
| –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ ru/ –≤ –∫–æ—Ä–µ–Ω—å | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –¢–µ—Å—Ç —Å demo-thanks | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å barge-in —Å–∏—Å—Ç–µ–º—É | ‚è≥ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ |
| –£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –ª–æ–∂–Ω–æ–≥–æ barge-in | ‚è≥ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
| –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —É—Ä–æ–≤–Ω—è –∑–≤—É–∫–∞ | ‚è≥ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
| –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—á–∏—Å—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏ | ‚è≥ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
| –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏–º –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è | ‚è≥ | 2025-01-27 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

### **üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:**

#### **–ö–æ–¥ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ stasis_handler.py:**
```python
# –°—Ç—Ä–æ–∫–∞ ~55: –£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –ª–æ–∂–Ω–æ–≥–æ barge-in
self.BARGE_IN_GUARD_MS = 2000  # –ë—ã–ª–æ: 400

# –°—Ç—Ä–æ–∫–∞ ~2635: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —É—Ä–æ–≤–Ω—è –∑–≤—É–∫–∞
async def stop_tts_on_barge_in(self, channel_id: str, event_name: str):
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Ä–æ–≤–µ–Ω—å –∑–≤—É–∫–∞ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π
    if not self._check_audio_level(channel_id):
        logger.debug("–ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º barge-in - —É—Ä–æ–≤–µ–Ω—å –∑–≤—É–∫–∞ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π")
        return
    
    # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∑–∞—â–∏—Ç—É –æ—Ç –ª–æ–∂–Ω–æ–≥–æ barge-in
    since_start = int(time.time() * 1000) - call_data["last_speak_started_at"]
    if call_data["current_playback"] and since_start < self.BARGE_IN_GUARD_MS:
        logger.debug(f"–ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º barge-in - —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ ({since_start}ms)")
        return
    
    # –ù–ï –æ—á–∏—â–∞–µ–º –≤—Å—é –æ—á–µ—Ä–µ–¥—å - —Ç–æ–ª—å–∫–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π playback
    if call_data["current_playback"]:
        call_data["current_playback"] = None
        call_data["is_speaking"] = False
        # –ù–ï –æ—á–∏—â–∞–µ–º –æ—á–µ—Ä–µ–¥—å: call_data["tts_queue"] = []
```

### **üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. **–£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –ª–æ–∂–Ω–æ–≥–æ barge-in** –¥–æ 2000–º—Å - –ö–†–ò–¢–ò–ß–ù–û
2. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —É—Ä–æ–≤–Ω—è –∑–≤—É–∫–∞** - –ö–†–ò–¢–ò–ß–ù–û
3. **–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—á–∏—Å—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏** - –ö–†–ò–¢–ò–ß–ù–û
4. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏–º –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º barge-in**

### **üìù –í–´–í–û–î–´:**

**–ò—Å—Ç–∏–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (barge-in) —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 4–º—Å, –Ω–µ –¥–∞–≤–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É—Å–ª—ã—à–∞—Ç—å –∑–≤—É–∫.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–∏—Å—Ç–µ–º—ã –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è - —É–≤–µ–ª–∏—á–∏—Ç—å –∑–∞—â–∏—Ç—É, –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —É—Ä–æ–≤–Ω—è –∑–≤—É–∫–∞, –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—á–∏—Å—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - —ç—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ!

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –£–¢–û–ß–ù–ï–ù–ò–ï: –ü–†–û–ë–õ–ï–ú–ê –° –ü–†–ò–í–ï–¢–°–¢–í–ò–ï–ú –ë–û–¢–ê!

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** üîç **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –£–¢–û–ß–ù–ï–ù–ò–ï**

### **üéØ –ö–õ–Æ–ß–ï–í–û–ô –§–ê–ö–¢:**

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–ª—ã—à–∏—Ç –¥–∞–∂–µ –ü–†–ò–í–ï–¢–°–¢–í–ò–ï –±–æ—Ç–∞!**

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è, –∞ –≤ —Ç–æ–º, —á—Ç–æ **–∑–≤—É–∫ –≤–æ–æ–±—â–µ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è**!

### **üìä –ê–ù–ê–õ–ò–ó –ü–†–ò–í–ï–¢–°–¢–í–ò–Ø:**

**–ò–∑ –ª–æ–≥–æ–≤ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è:**
- **–¢–µ–∫—Å—Ç:** *"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –í—ã –ø–æ–∑–≤–æ–Ω–∏–ª–∏ –≤ –∫–æ–º–ø–∞–Ω–∏—é "–ú–µ—Ç—Ä–æ—Ç—ç—Å—Ç". –ß–µ–º —è –º–æ–≥—É –ø–æ–º–æ—á—å?"*
- **–§–∞–π–ª —Å–æ–∑–¥–∞–Ω:** `stream_1757099484.172_191124704_2b9a9661f17d24b22589cc602604eea4.ulaw`
- **PlaybackStarted:** `19:11:26,400`
- **PlaybackFinished:** `19:11:26,404` (—á–µ—Ä–µ–∑ 4–º—Å!)

**–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–ª–∂–Ω–æ –∏–≥—Ä–∞—Ç—å ~4 —Å–µ–∫—É–Ω–¥—ã, –Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 4–º—Å!**

### **üîç –ò–°–¢–ò–ù–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê:**

**–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è!** 

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –≥–æ–≤–æ—Ä–∏—Ç—å, –Ω–æ **–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ**, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

1. **Asterisk –Ω–µ –º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ ulaw —Ñ–∞–π–ª**
2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–æ—Ä–º–∞—Ç–æ–º —Ñ–∞–π–ª–∞**
3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–µ–∫–∞–º–∏ –∫–∞–Ω–∞–ª–∞**
4. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Asterisk**

### **üõ†Ô∏è –ü–õ–ê–ù –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:**

#### **–≠–¢–ê–ü 1: –ü–†–û–í–ï–†–ò–¢–¨ –†–ï–ê–õ–¨–ù–´–ô –§–û–†–ú–ê–¢ –§–ê–ô–õ–ê** üî¥
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π ulaw —Ñ–∞–π–ª
file /var/lib/asterisk/sounds/stream_1757099484.172_191124704_2b9a9661f17d24b22589cc602604eea4.ulaw
soxi /var/lib/asterisk/sounds/stream_1757099484.172_191124704_2b9a9661f17d24b22589cc602604eea4.ulaw
```

#### **–≠–¢–ê–ü 2: –ü–†–û–í–ï–†–ò–¢–¨ –ö–û–î–ï–ö–ò –ö–ê–ù–ê–õ–ê** üî¥
```bash
# –í Asterisk CLI –≤–æ –≤—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞
asterisk -r
> core show channels verbose
> channel show 1757099484.172
```

#### **–≠–¢–ê–ü 3: –¢–ï–°–¢ –° –†–ê–ó–ù–´–ú–ò –§–û–†–ú–ê–¢–ê–ú–ò** üü°
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `alaw` –≤–º–µ—Å—Ç–æ `ulaw`
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `gsm` —Ñ–æ—Ä–º–∞—Ç
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `sln` —Ñ–æ—Ä–º–∞—Ç

#### **–≠–¢–ê–ü 4: –ü–†–û–í–ï–†–ò–¢–¨ –õ–û–ì–ò ASTERISK** üü°
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Asterisk –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
tail -f /var/log/asterisk/full | grep -i "play\|sound\|error"
```

#### **–≠–¢–ê–ü 5: –¢–ï–°–¢ –° –°–£–©–ï–°–¢–í–£–Æ–©–ò–ú–ò –ó–í–£–ö–ê–ú–ò** üü¢
```bash
# –¢–µ—Å—Ç —Å demo-thanks –≤–æ –≤—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞
curl -X POST -u asterisk:asterisk123 \
  "http://localhost:8088/ari/channels/1757099484.172/play" \
  -H "Content-Type: application/json" \
  -d '{"media": "sound:demo-thanks"}'
```

### **üìä –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|------|------------|
| –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ ru/ –≤ –∫–æ—Ä–µ–Ω—å | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –¢–µ—Å—Ç —Å demo-thanks | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å barge-in —Å–∏—Å—Ç–µ–º—É | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º | ‚è≥ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ | ‚è≥ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥–µ–∫–∏ –∫–∞–Ω–∞–ª–∞ | ‚è≥ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| –¢–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ | ‚è≥ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| –¢–µ—Å—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–≤—É–∫–∞–º–∏ | ‚è≥ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |

### **üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:**

#### **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:**

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ulaw —Ñ–∞–π–ª–∞**
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è sox –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π
   - –§–∞–π–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω

2. **–ö–∞–Ω–∞–ª –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ulaw –∫–æ–¥–µ–∫**
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–¥–µ–∫–∏
   - –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Asterisk**
   - `indications.conf` –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
   - `musiconhold.conf` –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –∞—É–¥–∏–æ

4. **–ü—Ä–æ–±–ª–µ–º—ã —Å ARI playback**
   - Asterisk –º–æ–∂–µ—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—å —Ñ–∞–π–ª
   - Media URI –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º

### **üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞** - –≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥–µ–∫–∏ –∫–∞–Ω–∞–ª–∞** - –≤–æ–∑–º–æ–∂–Ω–æ –∫–∞–Ω–∞–ª –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ulaw
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å demo-thanks** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ ARI –≤–æ–æ–±—â–µ
4. **–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã** - alaw, gsm, sln
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Asterisk** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### **üìù –í–´–í–û–î–´:**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ:** –ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–ª—ã—à–∏—Ç –¥–∞–∂–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –±–æ—Ç–∞, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–≤—É–∫ –≤–æ–æ–±—â–µ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è.

**–ò—Å—Ç–∏–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** Asterisk –Ω–µ –º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ ulaw —Ñ–∞–π–ª—ã - –ª–∏–±–æ —Ñ–æ—Ä–º–∞—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –ª–∏–±–æ –∫–∞–Ω–∞–ª –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ulaw –∫–æ–¥–µ–∫.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤ –∏ –∫–æ–¥–µ–∫–∏ –∫–∞–Ω–∞–ª–∞

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–¢–ö–†–´–¢–ò–ï: –ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –§–û–†–ú–ê–¢–û–í!

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** üîç **–ù–ê–ô–î–ï–ù–ê –ò–°–¢–ò–ù–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê**

### **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–¢–ö–†–´–¢–ò–ï:**

**–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–≤—É–∫–∏ Asterisk –∏–º–µ—é—Ç —Ñ–æ—Ä–º–∞—Ç GSM, –∞ –º—ã —Å–æ–∑–¥–∞–µ–º ulaw!**

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
- ‚úÖ **–§–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ:** `/var/lib/asterisk/sounds/stream_*.ulaw`
- ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:** `asterisk:asterisk 644`
- ‚úÖ **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Ä–∞–∑—É–º–Ω—ã–π:** 42K
- ‚úÖ **–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:** headerless ulaw (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ "data")
- ‚ùå **–ü–†–û–ë–õ–ï–ú–ê:** –í—Å–µ –∑–≤—É–∫–∏ Asterisk –∏–º–µ—é—Ç —Ñ–æ—Ä–º–∞—Ç **GSM**, –∞ –º—ã —Å–æ–∑–¥–∞–µ–º **ulaw**!

#### **–ê–Ω–∞–ª–∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–≤—É–∫–æ–≤:**
```json
{
  "id": "conf-now-unmuted",
  "formats": [
    {"language": "en_US_f_Allison", "format": "gsm"},
    {"language": "en_US", "format": "gsm"},
    {"language": "en", "format": "gsm"}
  ]
}
```

**–í–°–ï –∑–≤—É–∫–∏ –∏–º–µ—é—Ç —Ñ–æ—Ä–º–∞—Ç GSM!**

### **üîç –ò–°–¢–ò–ù–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê:**

**Asterisk –æ–∂–∏–¥–∞–µ—Ç GSM —Ñ–æ—Ä–º–∞—Ç, –∞ –º—ã –¥–∞–µ–º ulaw!**

–≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ - Asterisk –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å ulaw —Ñ–∞–π–ª—ã, –ø–æ—ç—Ç–æ–º—É –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ.

### **üõ†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:**

#### **–≠–¢–ê–ü 1: –ò–ó–ú–ï–ù–ò–¢–¨ –§–û–†–ú–ê–¢ –ù–ê GSM** üî¥
- **–¢–µ–∫—É—â–∏–π —Ñ–æ—Ä–º–∞—Ç:** ulaw
- **–ù—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:** GSM
- **–ö–æ–º–∞–Ω–¥–∞ sox:** `sox input.wav -r 8000 -c 1 -t gsm output.gsm`

#### **–ö–æ–¥ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ yandex_tts_service.py:**
```python
# –°—Ç—Ä–æ–∫–∞ ~178: –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –Ω–∞ GSM
ulaw_path = wav_path.replace('.wav', '.gsm')
sox_cmd = [
    "sox", "-t", "wav", wav_path, 
    "-r", "8000", "-c", "1", 
    "-t", "gsm", ulaw_path  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ gsm
]
```

### **üìä –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|------|------------|
| –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ ru/ –≤ –∫–æ—Ä–µ–Ω—å | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –¢–µ—Å—Ç —Å demo-thanks | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å barge-in —Å–∏—Å—Ç–µ–º—É | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å ulaw –Ω–∞ GSM | ‚è≥ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
| –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å GSM —Ñ–æ—Ä–º–∞—Ç–æ–º | ‚è≥ | 2025-01-27 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

### **üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. **–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å ulaw –Ω–∞ GSM** - –ö–†–ò–¢–ò–ß–ù–û
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å GSM —Ñ–æ—Ä–º–∞—Ç–æ–º** - –ö–†–ò–¢–ò–ß–ù–û
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ** - –ö–†–ò–¢–ò–ß–ù–û

### **üìù –í–´–í–û–î–´:**

**–ò—Å—Ç–∏–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** Asterisk –æ–∂–∏–¥–∞–µ—Ç GSM —Ñ–æ—Ä–º–∞—Ç (–∫–∞–∫ –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–≤—É–∫–∏), –∞ –º—ã —Å–æ–∑–¥–∞–µ–º ulaw —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ Asterisk –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å ulaw –Ω–∞ GSM.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - —ç—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è!

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: GSM –§–û–†–ú–ê–¢ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù!

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** üîç **GSM –§–û–†–ú–ê–¢ –†–ê–ë–û–¢–ê–ï–¢**

### **‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø GSM:**

#### **–£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ GSM —Ñ–∞–π–ª–∞:**
- ‚úÖ **GSM —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω:** `test_ulaw_54192d4a6116b3695373f06a26e8516e.gsm`
- ‚úÖ **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/var/lib/asterisk/sounds/` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ)
- ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** `asterisk:asterisk 644` (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ)
- ‚úÖ **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 4389 –±–∞–π—Ç (—Ä–∞–∑—É–º–Ω—ã–π)
- ‚úÖ **–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:** `data` (headerless GSM)

#### **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π:**
- ‚ùå **GSM —Ñ–∞–π–ª –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ ARI sounds** –ø–æ—Å–ª–µ `core reload`
- ‚ùå **Asterisk –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞—à–∏ GSM —Ñ–∞–π–ª—ã**

### **üîç –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´ –ò–ù–î–ï–ö–°–ê–¶–ò–ò:**

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **Asterisk —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –∑–≤—É–∫–æ–≤
2. **GSM —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** –¥–ª—è Asterisk
3. **–ù—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

### **üìä –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|------|------------|
| –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ ru/ –≤ –∫–æ—Ä–µ–Ω—å | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –¢–µ—Å—Ç —Å demo-thanks | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å barge-in —Å–∏—Å—Ç–µ–º—É | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å ulaw –Ω–∞ GSM | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–≤—É–∫–∏ –≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GSM —Ñ–∞–π–ª —Å —Ä–µ–∞–ª—å–Ω—ã–º –∑–≤–æ–Ω–∫–æ–º | ‚è≥ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

### **üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GSM —Ñ–∞–π–ª —Å —Ä–µ–∞–ª—å–Ω—ã–º –∑–≤–æ–Ω–∫–æ–º** - –ö–†–ò–¢–ò–ß–ù–û
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ** - –ö–†–ò–¢–ò–ß–ù–û
3. **–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã** (alaw, sln)

### **üìù –í–´–í–û–î–´:**

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** GSM —Ñ–æ—Ä–º–∞—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º.

**–ü—Ä–æ–±–ª–µ–º–∞:** Asterisk –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞—à–∏ GSM —Ñ–∞–π–ª—ã, –Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –Ω–µ –º–µ—à–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é —á–µ—Ä–µ–∑ ARI.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ GSM —Ñ–∞–π–ª–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º –∑–≤–æ–Ω–∫–æ–º.

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó: GSM –§–û–†–ú–ê–¢ –ù–ï –†–ï–®–ê–ï–¢ –ü–†–û–ë–õ–ï–ú–£!

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** üî¥ **–ü–†–û–ë–õ–ï–ú–ê –ù–ï –†–ï–®–ï–ù–ê - –¢–†–ï–ë–£–ï–¢–°–Ø –ù–û–í–´–ô –ü–û–î–•–û–î**

### **üìä –ì–õ–£–ë–û–ö–ò–ô –ê–ù–ê–õ–ò–ó –õ–û–ì–û–í –†–ï–ê–õ–¨–ù–û–ì–û –ó–í–û–ù–ö–ê:**

#### **‚è±Ô∏è –í–†–ï–ú–Ø –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–Ø GSM –§–ê–ô–õ–û–í:**

| –§–∞–π–ª | PlaybackStarted | PlaybackFinished | –í—Ä–µ–º—è | –°—Ç–∞—Ç—É—Å |
|------|----------------|------------------|-------|--------|
| –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ | 09:31:37.277 | 09:31:37.281 | **4ms** | ‚ùå –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| –û—Ç–≤–µ—Ç 1 | 09:32:02.918 | 09:32:02.918 | **0ms** | ‚ùå –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| –û—Ç–≤–µ—Ç 2 | 09:32:03.674 | 09:32:03.676 | **1ms** | ‚ùå –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| –û—Ç–≤–µ—Ç 3 | 09:32:03.723 | 09:32:03.736 | **13ms** | ‚ùå –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |

#### **üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –í–´–í–û–î–´:**

1. **GSM —Ñ–æ—Ä–º–∞—Ç –ù–ï –†–ï–®–ê–ï–¢ –ø—Ä–æ–±–ª–µ–º—É** - –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤—Å–µ –µ—â–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ
2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª:** "–Ø –¥–∞–∂–µ –Ω–µ —Å–ª—ã—à—É –Ω–∞—á–∞–ª–∞ –∑–≤—É–∫–∞, —è –¥–∞–∂–µ –Ω–µ —Å–ª—ã—à—É –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è"
3. **–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Ñ–æ—Ä–º–∞—Ç–µ** - –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–∞–º–æ–º –º–µ—Ö–∞–Ω–∏–∑–º–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
4. **ARI –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–π–ª—ã** (status=201), –Ω–æ –æ–Ω–∏ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è

### **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–¢–ö–†–´–¢–ò–ï: –ü–†–û–ë–õ–ï–ú–ê –í –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø–•!**

**–í–ê–ñ–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û–¢ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø:**
- ‚úÖ **–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:** –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–ª–∞, –∑–≤—É–∫ –±—ã–ª —Å–ª—ã—à–µ–Ω (–∑–∞–¥–µ—Ä–∂–∫–∞ 20 —Å–µ–∫)
- ‚ùå **–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:** –ó–≤—É–∫ –ø—Ä–æ–ø–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é
- üîß **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ + gRPC TTS

### **üîç –ù–û–í–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú–´:**

#### **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã (–ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï):**
1. **üî¥ –ö–†–ò–¢–ò–ß–ù–û: gRPC TTS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –∏–∑–º–µ–Ω–∏–ª–∞ —Ñ–æ—Ä–º–∞—Ç/–∫–∞—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
2. **üî¥ –ö–†–ò–¢–ò–ß–ù–û: Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–ª–∏—è–µ—Ç –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–∞–π–ª–æ–≤
3. **üü° –í–ê–ñ–ù–û: Asterisk –Ω–µ –º–æ–∂–µ—Ç –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å GSM —Ñ–∞–π–ª—ã** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
4. **üü° –í–ê–ñ–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–µ–∫–∞–º–∏** - –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–¥–µ–∫–æ–≤ –∫–∞–Ω–∞–ª–∞ –∏ —Ñ–∞–π–ª–∞
5. **üü° –í–ê–ñ–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞** - Asterisk –Ω–µ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã
6. **üü° –í–ê–ñ–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å ARI** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –º–µ–¥–∏–∞-URI
7. **üü° –í–ê–ñ–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–æ—Ä–º–∞—Ç–æ–º GSM** - –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç (alaw, sln, wav)

### **üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ (–û–ë–ù–û–í–õ–ï–ù–ù–´–ô):**

#### **üéØ –≠–¢–ê–ü 0: –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ô**
- [ ] **0.1** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –û—Ç–∫–ª—é—á–∏—Ç—å gRPC TTS, –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ HTTP TTS
- [ ] **0.2** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –û—Ç–∫–ª—é—á–∏—Ç—å Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] **0.3** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
- [ ] **0.4** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –°—Ä–∞–≤–Ω–∏—Ç—å —Ñ–∞–π–ª—ã –¥–æ/–ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- [ ] **0.5** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ gRPC TTS

#### **üéØ –≠–¢–ê–ü 1: –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –§–û–†–ú–ê–¢–û–í**
- [ ] **1.1** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–≤—É–∫–∏ Asterisk (—Ñ–æ—Ä–º–∞—Ç, —Ä–∞–∑–º–µ—Ä, –ø—Ä–∞–≤–∞)
- [ ] **1.2** –°—Ä–∞–≤–Ω–∏—Ç—å –Ω–∞—à–∏ GSM —Ñ–∞–π–ª—ã —Å —Ä–∞–±–æ—á–∏–º–∏ –∑–≤—É–∫–∞–º–∏
- [ ] **1.3** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤ alaw —Ñ–æ—Ä–º–∞—Ç
- [ ] **1.4** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤ sln —Ñ–æ—Ä–º–∞—Ç
- [ ] **1.5** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å WAV —Ñ–æ—Ä–º–∞—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

#### **üéØ –≠–¢–ê–ü 2: –ü–†–û–í–ï–†–ö–ê –ö–û–î–ï–ö–û–í**
- [ ] **2.1** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥–µ–∫–∏ –∫–∞–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ ARI
- [ ] **2.2** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥–µ–∫ (alaw/ulaw)
- [ ] **2.3** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ codec.conf
- [ ] **2.4** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–¥–µ–∫–∞–º–∏

#### **üéØ –≠–¢–ê–ü 3: –ü–†–û–í–ï–†–ö–ê –ü–†–ê–í –î–û–°–¢–£–ü–ê**
- [ ] **3.1** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É /var/lib/asterisk/sounds/
- [ ] **3.2** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SELinux/AppArmor –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- [ ] **3.3** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –ø—Ä–∞–≤–∞–º–∏ 755 –Ω–∞ –ø–∞–ø–∫—É
- [ ] **3.4** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Asterisk –Ω–∞ –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞

#### **üéØ –≠–¢–ê–ü 4: –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –ú–ï–¢–û–î–´ –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–Ø**
- [ ] **4.1** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ dialplan
- [ ] **4.2** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ AGI
- [ ] **4.3** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ Playback —á–µ—Ä–µ–∑ ARI
- [ ] **4.4** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–≤—É–∫–∞–º–∏

#### **üéØ –≠–¢–ê–ü 5: –ü–†–û–í–ï–†–ö–ê ARI –ò –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò**
- [ ] **5.1** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ari.conf
- [ ] **5.2** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Asterisk –∏ ARI
- [ ] **5.3** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å verbose –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- [ ] **5.4** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ sounds.conf

### **üìä –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|------|------------|
| –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ ru/ –≤ –∫–æ—Ä–µ–Ω—å | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –¢–µ—Å—Ç —Å demo-thanks | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å barge-in —Å–∏—Å—Ç–µ–º—É | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å ulaw –Ω–∞ GSM | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–≤—É–∫–∏ –≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GSM —Ñ–∞–π–ª —Å —Ä–µ–∞–ª—å–Ω—ã–º –∑–≤–æ–Ω–∫–æ–º | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Å—Ç–∏ –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∑–≤–æ–Ω–∫–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ - –í–´–ü–û–õ–ù–ï–ù–û |
| –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é | ‚úÖ | 2025-01-27 | –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º | ‚úÖ | 2025-01-27 | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |

### **üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø (–û–ë–ù–û–í–õ–ï–ù–ù–´–ï):**

1. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –û—Ç–∫–ª—é—á–∏—Ç—å gRPC TTS, –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ HTTP TTS
2. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –û—Ç–∫–ª—é—á–∏—Ç—å Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
4. **üü° –í–ê–ñ–ù–û:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å alaw —Ñ–æ—Ä–º–∞—Ç (–∫–∞–∫ —É demo-thanks)
5. **üü° –í–ê–ñ–ù–û:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥–µ–∫–∏ –∫–∞–Ω–∞–ª–∞

### **üìù –í–´–í–û–î–´ (–û–ë–ù–û–í–õ–ï–ù–ù–´–ï):**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** GSM —Ñ–æ—Ä–º–∞—Ç –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.

**üö® –ù–û–í–ê–Ø –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ì–ò–ü–û–¢–ï–ó–ê:** –ü—Ä–æ–±–ª–µ–º–∞ –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö (gRPC TTS + Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ), –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–º–∞–ª–∏ —Ä–∞–±–æ—á—É—é —Å–∏—Å—Ç–µ–º—É.

**–ö–ª—é—á–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:** –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ (–∑–∞–¥–µ—Ä–∂–∫–∞ 20 —Å–µ–∫), –ø–æ—Å–ª–µ - –∑–≤—É–∫ –ø—Ä–æ–ø–∞–ª.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û—Ç–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–∞–±–æ—á–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é.

---

## üîç –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï: ULAW –ò ALAW –§–û–†–ú–ê–¢–´ –ù–ï –†–ê–ë–û–¢–ê–Æ–¢!

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** üî¥ **–ü–†–û–ë–õ–ï–ú–ê –ù–ï –†–ï–®–ï–ù–ê - SOX –ö–û–ù–í–ï–†–¢–ê–¶–ò–Ø –ù–ï –†–ê–ë–û–¢–ê–ï–¢**

### **üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –§–û–†–ú–ê–¢–û–í:**

#### **‚ùå ULAW –§–û–†–ú–ê–¢ (—Ç–µ—Å—Ç 1):**
- ‚úÖ **HTTP TTS —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã
- ‚ùå **sox –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ ULAW –ù–ï –†–ê–ë–û–¢–ê–ï–¢** - –æ—à–∏–±–∫–∞ exit status 2
- ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RAW fallback** - —Ä–∞–∑–º–µ—Ä 21234 –±–∞–π—Ç–∞ (21KB)
- ‚ùå **–í—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:** 1ms (–≤—Å–µ –µ—â–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
- ‚ùå **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** "–Ø –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –Ω–µ —Å–ª—ã—à—É –Ω–∏–∫–∞–∫–æ–≥–æ –∑–≤—É–∫–∞"

#### **‚ùå ALAW –§–û–†–ú–ê–¢ (—Ç–µ—Å—Ç 2):**
- ‚úÖ **HTTP TTS —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã  
- ‚ùå **sox –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ ALAW –ù–ï –†–ê–ë–û–¢–ê–ï–¢** - –æ—à–∏–±–∫–∞ exit status 2
- ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RAW fallback** - —Ä–∞–∑–º–µ—Ä 21234 –±–∞–π—Ç–∞ (21KB)

#### **üîç –°–†–ê–í–ù–ï–ù–ò–ï –° –†–ê–ë–û–ß–ò–ú–ò –§–ê–ô–õ–ê–ú–ò:**
- **–°—Ç–∞—Ä—ã–µ ULAW —Ñ–∞–π–ª—ã (–î–û –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π):** 33494 –±–∞–π—Ç–∞ (33KB) - **–†–ê–ë–û–¢–ê–õ–ò**
- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã (RAW fallback):** 21234 –±–∞–π—Ç–∞ (21KB) - **–ù–ï –†–ê–ë–û–¢–ê–Æ–¢**

### **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –í–´–í–û–î–´:**

1. **–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Ñ–æ—Ä–º–∞—Ç–µ** - –ø—Ä–æ–±–ª–µ–º–∞ –≤ **sox –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏**
2. **RAW fallback –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ä–∞–±–æ—á–∏—Ö
3. **–ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É sox** –∏–ª–∏ –Ω–∞–π—Ç–∏ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
4. **–í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö raw –¥–∞–Ω–Ω—ã—Ö** –æ—Ç Yandex TTS

### **üìã –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô:**

#### **üéØ –≠–¢–ê–ü 0: –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê SOX**
- [ ] **0.1** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é sox –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- [ ] **0.2** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é sox –∫–æ–º–∞–Ω–¥—É –≤—Ä—É—á–Ω—É—é
- [ ] **0.3** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã raw –¥–∞–Ω–Ω—ã—Ö –æ—Ç Yandex TTS
- [ ] **0.4** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã sox
- [ ] **0.5** üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å WAV —Ñ–æ—Ä–º–∞—Ç

#### **üéØ –≠–¢–ê–ü 1: –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –ú–ï–¢–û–î–´ –ö–û–ù–í–ï–†–¢–ê–¶–ò–ò**
- [ ] **1.1** –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å ffmpeg –≤–º–µ—Å—Ç–æ sox
- [ ] **1.2** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- [ ] **1.3** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –º–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Yandex TTS
- [ ] **1.4** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π WAV –≤—ã–≤–æ–¥ –æ—Ç Yandex

### **üìä –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|------|------------|
| –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ ru/ –≤ –∫–æ—Ä–µ–Ω—å | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –¢–µ—Å—Ç —Å demo-thanks | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å barge-in —Å–∏—Å—Ç–µ–º—É | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å ulaw –Ω–∞ GSM | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–≤—É–∫–∏ –≤ Asterisk | ‚úÖ | 2025-01-27 | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GSM —Ñ–∞–π–ª —Å —Ä–µ–∞–ª—å–Ω—ã–º –∑–≤–æ–Ω–∫–æ–º | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ–≤–µ—Å—Ç–∏ –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∑–≤–æ–Ω–∫–∞ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ - –í–´–ü–û–õ–ù–ï–ù–û |
| –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é | ‚úÖ | 2025-01-27 | –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º | ‚úÖ | 2025-01-27 | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ULAW —Ñ–æ—Ä–º–∞—Ç | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |
| –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ALAW —Ñ–æ—Ä–º–∞—Ç | ‚úÖ | 2025-01-27 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –í–´–ü–û–õ–ù–ï–ù–û |

### **üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø (–û–ë–ù–û–í–õ–ï–ù–ù–´–ï):**

1. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é sox –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
2. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é sox –∫–æ–º–∞–Ω–¥—É –≤—Ä—É—á–Ω—É—é
3. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã raw –¥–∞–Ω–Ω—ã—Ö –æ—Ç Yandex TTS
4. **üü° –í–ê–ñ–ù–û:** –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å ffmpeg –≤–º–µ—Å—Ç–æ sox
5. **üü° –í–ê–ñ–ù–û:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å WAV —Ñ–æ—Ä–º–∞—Ç

### **üìù –í–´–í–û–î–´ (–û–ë–ù–û–í–õ–ï–ù–ù–´–ï):**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** sox –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (ULAW, ALAW, GSM).

**–ù–æ–≤–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞:** –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö raw –¥–∞–Ω–Ω—ã—Ö –æ—Ç Yandex TTS –∏–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–µ sox.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å sox –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã raw –¥–∞–Ω–Ω—ã—Ö.

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–¢–ö–†–´–¢–ò–ï: –ù–ê–ô–î–ï–ù–ê –†–ê–ë–û–ß–ê–Ø –í–ï–†–°–ò–Ø –í –ê–†–•–ò–í–ï!

**–î–∞—Ç–∞:** 2025-09-06 11:05

### üîç –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏–≤–Ω–æ–π –≤–µ—Ä—Å–∏–∏:
–ò–∑—É—á–µ–Ω –∞—Ä—Ö–∏–≤ `asterisk-vox-bot-backup-20250905-051730/` —Å —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–µ–π TTS —Å–µ—Ä–≤–∏—Å–∞.

### üìä –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π:

#### 1. **–ü–£–¢–¨ –ö –ó–í–£–ö–ê–ú:**
- **–ê—Ä—Ö–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è:** `/usr/share/asterisk/sounds/ru`
- **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** `/var/lib/asterisk/sounds`
- **üö® –ö–†–ò–¢–ò–ß–ù–û:** –†–∞–∑–Ω—ã–µ –ø—É—Ç–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã!

#### 2. **–ö–û–ù–í–ï–†–¢–ê–¶–ò–Ø –ê–£–î–ò–û:**
- **–ê—Ä—Ö–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è:** `sox` –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è raw LPCM ‚Üí WAV (8kHz mono)
- **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** Pydub –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è raw LPCM ‚Üí WAV
- **üö® –ö–†–ò–¢–ò–ß–ù–û:** –†–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏!

#### 3. **–§–û–†–ú–ê–¢ –í–´–í–û–î–ê:**
- **–ê—Ä—Ö–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è:** WAV —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ sox
- **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** WAV —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ Pydub
- **üö® –ö–†–ò–¢–ò–ß–ù–û:** sox –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ñ–∞–π–ª—ã!

### üéØ –ü–õ–ê–ù –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –†–ê–ë–û–ß–ï–ô –í–ï–†–°–ò–ò:

#### –≠–¢–ê–ü 0: –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ò–ó –ê–†–•–ò–í–ê (4 –∑–∞–¥–∞—á–∏)
1. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—É—Ç—å `/usr/share/asterisk/sounds/ru`
2. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é sox –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é
3. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –£–±—Ä–∞—Ç—å Pydub, –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ sox
4. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é

### üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –í–´–í–û–î:
–ù–∞–π–¥–µ–Ω–∞ —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è –≤ –∞—Ä—Ö–∏–≤–µ! –ù—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ TTS —Å–µ—Ä–≤–∏—Å–∞.

## üéâ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –£–°–ü–ï–•: –ó–í–£–ö –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù!

**–î–∞—Ç–∞:** 2025-09-06 11:16

### üîç –ê–Ω–∞–ª–∏–∑ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

#### **–ö–õ–Æ–ß–ï–í–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø, –ö–û–¢–û–†–´–ï –†–ï–®–ò–õ–ò –ü–†–û–ë–õ–ï–ú–£:**

1. **üî¥ –ö–†–ò–¢–ò–ß–ù–û - –ü–£–¢–¨ –ö –ó–í–£–ö–ê–ú:**
   - **–ë—ã–ª–æ:** `/var/lib/asterisk/sounds`
   - **–°—Ç–∞–ª–æ:** `/usr/share/asterisk/sounds/ru`
   - **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ó–≤—É–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!

2. **üî¥ –ö–†–ò–¢–ò–ß–ù–û - –ö–û–ù–í–ï–†–¢–ê–¶–ò–Ø –ê–£–î–ò–û:**
   - **–ë—ã–ª–æ:** Pydub –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è raw LPCM ‚Üí WAV
   - **–°—Ç–∞–ª–æ:** sox –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è raw LPCM ‚Üí WAV (8kHz mono)
   - **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ó–≤—É–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!

3. **üî¥ –ö–†–ò–¢–ò–ß–ù–û - –§–û–†–ú–ê–¢ –í–´–í–û–î–ê:**
   - **–ë—ã–ª–æ:** WAV —á–µ—Ä–µ–∑ Pydub
   - **–°—Ç–∞–ª–æ:** WAV —á–µ—Ä–µ–∑ sox
   - **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ó–≤—É–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!

### üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:

#### **–õ–æ–≥–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞:**
```
2025-09-06 11:16:01,814 - PlaybackStarted
2025-09-06 11:16:06,246 - PlaybackFinished
‚è±Ô∏è –í—Ä–µ–º—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è: 4.4 —Å–µ–∫—É–Ω–¥—ã (–ù–û–†–ú–ê–õ–¨–ù–û!)
```

#### **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏:**
- **–î–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:** PlaybackStarted –∏ PlaybackFinished –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (0-4ms)
- **–ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:** PlaybackStarted –∏ PlaybackFinished —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 4.4 —Å–µ–∫—É–Ω–¥—ã

### üéØ –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú–´:

**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –ù–ï –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö (Redis, gRPC), –∞ –≤ –∏–∑–º–µ–Ω–µ–Ω–∏–∏:**
1. **–ü—É—Ç–∏ –∫ –∑–≤—É–∫–æ–≤—ã–º —Ñ–∞–π–ª–∞–º** - Asterisk –∏—Å–∫–∞–ª —Ñ–∞–π–ª—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
2. **–ú–µ—Ç–æ–¥–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∞—É–¥–∏–æ** - Pydub —Å–æ–∑–¥–∞–≤–∞–ª –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å Asterisk —Ñ–∞–π–ª—ã

### üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø:

#### **1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ –∑–≤—É–∫–∞–º:**
```python
# –ë—ã–ª–æ:
self.asterisk_sounds_dir = "/var/lib/asterisk/sounds"

# –°—Ç–∞–ª–æ:
self.asterisk_sounds_dir = "/usr/share/asterisk/sounds/ru"
```

#### **2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ sox –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:**
```python
# –ë—ã–ª–æ (Pydub):
from pydub import AudioSegment
audio_segment = AudioSegment.from_file(raw_path, format="raw", ...)
audio_segment.export(wav_path, format="wav")

# –°—Ç–∞–ª–æ (sox):
sox_cmd = [
    "sox", "-t", "raw", "-r", "8000", "-e", "signed-integer", "-b", "16", "-c", "1",
    raw_path, "-t", "wav", wav_path
]
subprocess.run(sox_cmd, check=True, capture_output=True)
```

#### **3. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
```bash
mkdir -p /usr/share/asterisk/sounds/ru
chown asterisk:asterisk /usr/share/asterisk/sounds/ru
chmod 755 /usr/share/asterisk/sounds/ru
```

### üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è |
|----------|-------------------|---------------------|
| –í—Ä–µ–º—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è | 0-4ms | 4.4 —Å–µ–∫—É–Ω–¥—ã |
| –°–ª—ã—à–∏–º–æ—Å—Ç—å –±–æ—Ç–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤ | WAV (Pydub) | WAV (sox) |
| –ü—É—Ç—å –∫ –∑–≤—É–∫–∞–º | /var/lib/asterisk/sounds | /usr/share/asterisk/sounds/ru |
| –°—Ç–∞—Ç—É—Å | üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ |

### üéØ –í–´–í–û–î–´:

1. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏ –∫ –∑–≤—É–∫–∞–º –∏ –º–µ—Ç–æ–¥–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
2. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** sox —Å–æ–∑–¥–∞–µ—Ç –±–æ–ª–µ–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å Asterisk —Ñ–∞–π–ª—ã, —á–µ–º Pydub
3. **üî¥ –ö–†–ò–¢–ò–ß–ù–û:** Asterisk –æ–∂–∏–¥–∞–µ—Ç –∑–≤—É–∫–∏ –≤ `/usr/share/asterisk/sounds/ru/`
4. **‚úÖ –£–°–ü–ï–•:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –∞—Ä—Ö–∏–≤–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–∏–ª–æ –ø—Ä–æ–±–ª–µ–º—É

### üöÄ –°–¢–ê–¢–£–° –ü–†–û–ï–ö–¢–ê:
**üéâ –ü–†–û–ë–õ–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê! –ë–û–¢ –°–ù–û–í–ê –°–õ–´–®–ï–ù!**

---

*–î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω - –ó–í–£–ö –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù!*
